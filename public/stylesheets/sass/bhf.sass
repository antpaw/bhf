// sass --watch public/stylesheets/sass/bhf.sass:public/stylesheets/bhf.css --style compressed

@import reset
@import typo
@import functions

html
  min-width: 700px
  height: 100%
  overflow-y: scroll
  background: #303030 url(/images/bhf/bg.png)

body
  min-width: 960px
  min-height: 100%
  +box-inner-shadow(0, 0, 8,#000)

$w1: #fff
$w2: #F1F1F1
$k1: #000
$b1: #38A5E9
$b2: #0F8FDD
$g1: #7F7F7F
$g2: #ccc
$g3: #424242

a
  text-decoration: none
  color: inherit 

header
  display: block
  overflow: hidden
  clear: both
  padding: 0 20px
  h1
    float: right
    height: 83px
    overflow: hidden
  nav
    padding-top: 25px
    li
      float: left
      font-weight: bold
      margin-right: 20px
      &.active
        a
          +text-shadow(#fff, -1)
          +bg-gradient(#D5D5D5, #FFFFFF)
          +box-shadow(0, 1, 4)
          color: #414756
          &:hover
            +bg-gradient(#FFFFFF, #D5D5D5)
            border-color: #FFFFFF
            +text-shadow(#fff)
            color: #414756
            +box-inner-shadow(0, 0, 3, #fff)
      a
        text-decoration: none
        display: block
        padding: 5px 23px
        border: 1px solid transparent
        color: #EAEAEA
        +text-shadow(#000, -1)
        &:hover
          +bg-gradient($b1, $b2)
          color: $w1
          border-color: $b1
          +box-shadow(0, 1, 4)
          +text-shadow(#0068B3)
        &:active
          +bg-gradient($b2, $b1)
          +text-shadow(#0068B3, -1)
          // TODO: table, so we can vertial align nav
            

#content
  display: table
  width: 100%
  box-sizing: border-box
  margin-top: -20px
  border-spacing: 20px
  h2,
  h3
    +text-shadow(#fff)
    
.quick_edit_holder,
#main
  display: table-cell
  overflow: hidden
  background: #EAEAEA
  border: 3px solid #FFFFFF
  box-sizing: border-box
  padding: 10px 20px
  +box-shadow(0, 1, 4, rgba($k1, 0.5))

#main_form
  // TODO: wtf css?
  margin-left: -20px
    


#content
  .quick_edit_holder
    overflow-x: auto
    position: relative
    max-width: 400px
    width: 400px
    vertical-align: top
    form
      margin-left: 0
      padding-bottom: 10px
    .node,
    .input,
    .label
      display: block
    .input
      padding-top: 0
      min-height: 31px
    
    textarea
      width: 300px
      height: 100px
    > button
      &.save,
      &.save_and_next
        margin-left: -6px
        margin-right: 20px
        padding: 6px 25px
        
      &.cancel,
      &.open
        float: right
      &.save,
      &.open
        margin-right: 10px

table
  margin-top: 20px
  margin-bottom: 40px
  width: 100%
  caption
    overflow: hidden
    height: 28px
    padding: 10px 10px 10px 20px
    background-image: url(/images/bhf/button_bg_2.png)
    +border-top-radius(4)
    text-align: left
    +box-shadow(0, 1, 4, #ccc)
    h4,
    .info
      display: inline-block
      +text-shadow(#fff)
      padding-bottom: 20px
    h4
      color: #3E3E3E
    .info
      margin: 0 20px 0 10px
      width: 290px
      text-transform: uppercase
      font-size: 12px
      color: $g1
      white-space: nowrap
      overflow: hidden
    form
      display: inline-block
        
    .create
      float: right
      
  td,
  th
    &:first-child
      +border-left-radius(4)
    &:last-child
      +border-right-radius(4)
  thead
    th
      padding: 4px 0
      padding-left: 3px
      text-align: left
      border-top: 1px solid #C6C6C6
      border-bottom: 1px solid #1B1B1B
      white-space: nowrap
      background: #3E3E3E
      +text-shadow(#000, -1)
      color: #C2C2C2
      &.primary_key
        text-transform: uppercase
      &.sorted
        +box-inner-shadow(0, -15, 50, #000)
        & a:after,
        &.desc:hover a:after
          content: ' ▼'
        &:hover a:after,
        &.desc a:after
          content: ' ▲'
        a
          color: #FFFFFF
          +text-shadow
  tbody
    td
      border-top: 1px solid #FFFFFF
      border-bottom: 1px solid #C6C6C6
      &.has_many,
      &.has_and_belongs_to_many,
      &.text
        max-width: 200px
        white-space: nowrap
        overflow: hidden
        a 
          -webkit-mask-image: -webkit-gradient(linear, left top, right top, color-stop(50%,rgba($k1,1)), to(rgba($w1,0)))
      &.no_entries
        text-align: center
        text-transform: uppercase
        padding: 10px 0
        color: $g1
        a
          font-weight: bold
          display: inline
			
    a
      display: block
      padding: 5px 3px 
      &.edit,
      &.delete
        padding: 0
        margin-right: 5px
        display: inline-block
        text-indent: -9999px
        width: 20px
        height: 20px
        &:active
          background-position: 0 1px
      &.edit
        background: url(/images/bhf/icon_edit.png)
      &.delete
        background: url(/images/bhf/icon_delete.png)

    .handle
      background: url(/images/bhf/icon_drag.png) no-repeat 7px 0
      cursor: move
      display: block
    

    tr
      &:hover td,
      &.live_edit td
        +bg-gradient($b1, $b2)
        color: $w1
        .edit
          background-image: url(/images/bhf/icon_edit_a.png)
        .delete
          background-image: url(/images/bhf/icon_delete_a.png)
        .handle
          background-image: url(/images/bhf/icon_drag_a.png)
      &.live_edit td
        +bg-gradient($b2, $b1)
      &.dragged
        td
          opacity: 0.4
          background-color: gray

  thead
    th.drag
      width: 24px

  tfoot
    td
      padding-top: 10px
      border-top: 1px solid #FFFFFF

  thead,
  tbody
    .primary_key,
    .number
      padding-right: 10px
      text-align: right
    .primary_key
      width: 30px
    .action
      width: 54px


.default_input
  border: 1px solid #BBB
  background: #FFF
  +border-radius(2)
  +box-shadow(0, 1, 0, #FFFFFF)
  padding: 5px 5px 4px 5px
  width: 300px
  line-height: 10px
  &:focus
    outline: 0
    +transition-duration(1)
    -webkit-box-shadow: 0 1px 12px $b2
    border-color: $b2

.search
  input[type="text"]
    @extend .default_input
    width: 200px

form
  .node
    display: table-row
    &.string,
    &.text,
    &.password
      .input,
      .label
        padding-top: 0
      .label
        label
          padding-top: 5px
    .label
      label
        display: block
        color: $g3
        +text-shadow(#fff)
      width: 200px
      .field_with_errors
        color: red
    &.primary_key
      .label
        text-transform: uppercase
    .input,
    .label
      padding-top: 5px
      vertical-align: top
      display: table-cell
    .input
      input[type="password"],
      input[type="text"],
      .uploaded_image,
      textarea
        @extend .default_input
      textarea
        width: 500px
        height: 200px
        line-height: 20px
        &.wysiwyg
          height: 400px
      .errors
        color: red
      .field_with_errors
        input
          border-color: red
      [disabled]
        background: $g2 !important
      input[type="submit"],
      input[type="password"],
      input[type="text"],
      select,
      textarea,
      .uploaded_image,
      .mooeditable-container
        margin-left: -6px
      input[type="file"]
        margin-left: -5px
      .multiple_fields.template
        display: block
      .add_field
        display: block
        font-size: 20px
        font-weight: bold
        width: 30px
        margin-left: -8px
        cursor: pointer
        text-align: center
        &:hover
          color: $b1
      .uploaded_image
        padding: 2px
        width: auto
        max-width: 400px
        max-height: 200px
        margin-bottom: 5px
        display: block
        
    .cancel
      margin-left: 20px
      color: $g1
      &:hover
        color: $g3
        text-decoration: underline
    .info
      font-style: italic
      font-size: 12px
      color: $g3
      +text-shadow(#fff)
      
  .error_explanation
    margin-left: 20px
    label
      color: red
      cursor: pointer
      display: block
      &:hover
        color: #ff9900


footer
  padding-bottom: 20px
  +text-shadow(#000, -1)
  text-align: center
  color: gray
  font-size: 12px
  line-height: 20px
  a
    text-decoration: none
    &:hover
      text-decoration: underline

input[type="submit"],
button,
.button
  display: inline-block
  border: 0
  padding: 12px 50px
  background: url(/images/bhf/button_bg.png)
  +border-radius(4)
  -webkit-box-shadow: 0 1px 4px rgba($k1, 0.5), inset 0 2px 0 rgba($w1, 0.3), inset 0 1px 0 rgba($k1, 0.9)
  text-decoration: none
  
  font-weight: bold
  color: $w2
  font-size: 13px
  +text-shadow(#000, -1)
  cursor: pointer
  +transition-duration(0.8)
  +transition-property(color)
  &:hover
    -webkit-box-shadow: inset 0 1px 6px rgba($k1, 0.3), inset 0 -1px 0 $b2, inset 0 -2px 0 rgba($w1, 0.6)
    background: url(/images/bhf/button_bg_a.png)
    color: $w1
  &:active
    -webkit-box-shadow: inset 0 10px 20px 5px rgba($k1, 1), inset 0 -2px 0 rgba($w1, 0.5), inset 0 -1px 0 rgba($k1, 1)
    color: $b1
    background: url(/images/bhf/button_bg.png)
    text-shadow: 0 1px 0 black
  &:focus
    outline: 0
    padding: 10px 48px
    +transition-duration(1)
    +transition-property(-webkit-box-shadow)
    -webkit-box-shadow: 0 1px 12px $b2
    border: 2px solid $b2
  &[disabeled]
    background: red

input[type="submit"].alt_button,
.alt_button
  display: inline-block
  padding: 12px 50px
  +border-radius(4)
  text-decoration: none
  border: 1px solid gray
  font-size: 13px
  cursor: pointer
  background: #666
  padding: 5px 10px
  -webkit-box-shadow: inset 0 1px 0 rgba(#AAABAA, 0.7)
  color: $w1
  +text-shadow(#444, -1)
  &:hover
    border-color: $b2
    -webkit-box-shadow: inset 0 -1px 0 rgba(#AAABAA, 0.7)
    background: $b1    
  &:active
    border-color: $g1
  &:focus
    outline: 0
    +transition-duration(1)
    +transition-property(-webkit-box-shadow)
    -webkit-box-shadow: 0 1px 12px $b2

#flash_massages
  display: block
  padding: 5px 20px
  margin: -45px 0 10px 0
  border: 1px solid $b1
  +bg-gradient($b1, $b2)
  color: $w1
  +text-shadow(#0068B3)
  overflow: hidden
  height: 100%
  +transition-duration(0.6)
  opacity: 0
  &.show
    opacity: 1
    margin-top: 0px


.pagination
  a, span, em
    @extend .alt_button
  
  .current
    background: #888
    -webkit-box-shadow: inset 0 -1px 0 rgba(#AAABAA, 0.7)

@media (max-width: 800px)


@media (max-width: 960px)
  .default_columns
    thead th:nth-last-child(2),
    tbody td:nth-last-child(2),
    thead th:nth-last-child(3),
    tbody td:nth-last-child(3)
      display: none


// MooEditable

@import MooEditable

.mooeditable-container
  @extend .default_input
  background: white
  border: 1px solid #BBB
  .toolbar-separator
    background: $g2
  .mooeditable-ui-toolbar
    +border-radius(2)
    margin-top: 2px
  button
    background: white !important
    padding: 2px 4px 4px 4px !important
    -webkit-box-shadow: none
    &:hover
      background: $g2 !important
      
      
// Datepicker TODO: style .datepicker

.datepicker
  position: absolute
  width: 172px
  padding: 5px 10px
  background: #E5E5E5
  border: 1px solid #C1C2DC
  +box-inner-shadow(0, 1, 0, #fff)
  +border-radius(2)
  +text-shadow(#fff)
  color: #535b6f
  .header
    position: relative
    margin-bottom: 5px
    padding-bottom: 5px
    border-bottom: 1px solid #C1C2DC
    +box-shadow(0, 1, 0, #fff)
    .title
      padding-top: 3px
      text-align: center
      margin: 0 18px 0 18px
    .previous, .next, .closeButton
      position: absolute
      cursor: pointer
      overflow: hidden
      width: 12px
      top: 2px
      font-weight: bold
      &:hover
        color: #2F4D7B
    .previous
      left: 4px
    .next
      right: 4px
    .closeButton
      display: none
      right: 0px
      top: 0px
  .titles
    font-weight: bold
    font-size: 12px
    .title.day
      color: #535b6f
  .body
    position: relative
    top: 0px
    width: 170px
    height: 156px
    overflow: hidden
    > div
      margin-top: 2px
      margin-left: 2px
    
  .time
    position: relative
    width: 100%
    height: 100%
    .hour, .separator, .minutes
      color: #535B6F
      background: #fff
      width: 50px
      font-size: 32px
      position: absolute
      top: 10px
      text-align: center
      padding: 2px
    .hour,
    .minutes
      +box-shadow(0, 0, 1, #2F4D7B)
      +text-shadow(#ccc)
      margin-top: 8px
      border: none
      left: 15px
    .separator
      background: transparent
      border: 0px
      width: 10px
      left: 76px
    .minutes
      left: 95px
    .ok
      +box-shadow(0, 0, 1, #2F4D7B)
      +text-shadow(#ccc)
      color: #535B6F
      background: #fff
      position: absolute
      border: none
      cursor: pointer
      top: 73px
      left: 15px
      width: 134px
      padding: 4px 0
      font-size: 16px
      &:hover,
      &:focus,
      &:active
        background-color: #2F4D7B
        color: #fff
        +text-shadow(#000)
        +box-shadow(0, 0, 1, #fff)
  .days
    .day
      float: left
      text-align: center
      overflow: hidden
      width: 23px
      margin: 0 1px 1px 0
      color: #262626
    .day0
      margin-right: 0
    .week5 .day
      margin-bottom: 0
    .week .day
      cursor: pointer
      &:hover
        +box-shadow(0, 0, 1, #2F4D7B)
        background-color: #fff
        color: #2F4D7B
        +text-shadow(#ccc)
        
    .otherMonth
      color: #aaa
    .selected
      background-color: #2F4D7B
      color: #fff
      +text-shadow(#000)
      +box-shadow(0, 0, 1, #fff)
  .months
    .month
      float: left
      cursor: pointer
      text-align: center
      margin-top: 2px
      padding-top: 3px
      padding-bottom: 3px
      width: 55px
      overflow: hidden
      margin: 0 1px 1px 0
    .month3, .month6, .month9, .month12
      margin-right: 0
    .month10, .month11, .month12
      margin-bottom: 0
    .month:hover
      +box-shadow(0, 0, 1, #2F4D7B)
      background-color: #fff
      color: #2F4D7B
      +text-shadow(#ccc)
    .selected
      background-color: #2F4D7B
      color: #fff
      +text-shadow(#000)
      +box-shadow(0, 0, 1, #fff)
  .years
    .year
      float: left
      cursor: pointer
      text-align: center
      margin-top: 2px
      padding-top: 3px
      padding-bottom: 3px
      width: 32px
      font-size: 12px
      overflow: hidden
      margin: 0 1px 1px 0
    .year4, .year9, .year14, .year19
      margin-right: 0
    .year15, .year16, .year17, .year18, .year19
      margin-bottom: 0
    .year:hover
      +box-shadow(0, 0, 1, #2F4D7B)
      background-color: #fff
      color: #2F4D7B
      +text-shadow(#ccc)
    .selected
      background-color: #2F4D7B
      color: #fff
      +text-shadow(#000)
      +box-shadow(0, 0, 1, #fff)
  .unavailable
    background: none !important
    color: #fbb !important
    cursor: default !important

.hide
  display: none !important